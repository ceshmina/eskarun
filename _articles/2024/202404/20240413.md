めずらしく予定のない土曜日。このサイトの改修を進める。

日記に使っている画像はS3に保存しているが、今回Lambdaでサムネイル生成やEXIFの処理を自動化した。処理自体は特に難しくないが、Lambdaの設定でハマった... S3オブジェクトのパスを (バケットのルートのつもりで) /で始めてしまっていて、オブジェクトが見つからないのだが、ListBucketの権限を付けていなかったので404ではなく403になる。403なのでポリシー周りがおかしいのかと思い込み、しばらく時間を溶かしてしまった。

とりあえず解決して、サムネイルやカメラ情報が表示できるようになった。
